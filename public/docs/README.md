# 后端开发规范

## api规范
+ 必须使用RESTful风格开发api。
+ 必须对前端的数据正确性及数据类型进行校验。
+ 必须做权限校验。
+ routes下一个模块建一个目录
+ API返回数据必须按照规定来。
+ api文档中标明的返回格式及数据是 api响应串中data的值。
+ api响应格式为json串。
+ api响应数据由data和status两部分组成。data是响应的数据，status是响应的api状态码及相应信息。

## api响应示例
```json
{
    "status": {
        "code": "400",
        "msg": "请选择疫情数据时间"
    },
    "data": {}
}
```
```json
{
    "status": {
        "code": 200,
        "msg": "获取疫情数据成功"
    },
    "data": {
        "k1":"v1",
        "k2":"v2",
        ...
        "kn":"vn"
    }
}
```

## api返回状态码
200 ：获取信息成功。
201：新资源已经被创建。
203：资源修改成功。
204：资源删除成功。
400：用户发出的请求有错误，可能是参数少或者参数不正确，会在msg里有提示。
401：用户没有权限，需要用户登录。
402：用户名或密码不正确
403：权限不足。
404：指定的资源不存在。
500：服务器发生错误。

## api文档示例

### 接口：疫情

+ 疫情数据查询
    + GET /ncov
        + Query : 
            + limit：可选，数字类型，获取limit条数据。
            + offset：可选，数字类型，从第offset条开始获取数据。
    - Resp
        - date: "20200202"
        + ncovdata
            + wuhan:
                - death: 0
                - infection: 0
                - cure: 99